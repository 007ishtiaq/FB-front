{"version":3,"sources":["components/routes/AdminRoute.js","components/routes/LoadingToRedirect.js"],"names":["AdminRoute","_ref","children","rest","user","useSelector","state","ok","setOk","useState","useEffect","token","currentAdmin","then","res","console","log","catch","err","React","createElement","Route","LoadingToRedirect","count","setCount","history","useHistory","interval","setInterval","currentCount","push","clearInterval","class","Link","to","href"],"mappings":"oGAAA,2DA2BeA,UArBIC,IAA4B,IAA3B,SAAEC,KAAaC,GAAMF,EACvC,MAAM,KAAEG,GAASC,aAAaC,IAAK,IAAWA,OACvCC,EAAIC,GAASC,oBAAS,GAgB7B,OAdAC,qBAAU,KACJN,GAAQA,EAAKO,OACfC,YAAaR,EAAKO,OACfE,MAAMC,IACLC,QAAQC,IAAI,oBAAqBF,GACjCN,GAAM,EAAK,IAEZS,OAAOC,IACNH,QAAQC,IAAI,kBAAmBE,GAC/BV,GAAM,EAAM,GAElB,GACC,CAACJ,IAEGG,EAAKY,IAAAC,cAACC,QAAUlB,GAAWgB,IAAAC,cAACE,IAAiB,KAAG,C,mCCxBzD,2CAkDeA,IA7CWA,KACxB,MAAOC,EAAOC,GAAYf,mBAAS,GACnC,IAAIgB,EAAUC,uBAYd,OAVAhB,qBAAU,KACR,MAAMiB,EAAWC,aAAY,KAC3BJ,GAAUK,KAAmBA,GAAa,GACzC,KAIH,OAFU,IAAVN,GAAeE,EAAQK,KAAK,KAErB,IAAMC,cAAcJ,EAAS,GACnC,CAACJ,EAAOE,IAGTN,IAAAC,cAAA,WACED,IAAAC,cAAA,WAASY,MAAM,YACbb,IAAAC,cAAA,OAAKY,MAAM,aACTb,IAAAC,cAAA,OAAKY,MAAM,OACTb,IAAAC,cAAA,OAAKY,MAAM,cACTb,IAAAC,cAAA,OAAKY,MAAM,eACTb,IAAAC,cAAA,OAAKY,MAAM,sBAEXb,IAAAC,cAAA,OAAKY,MAAM,kCACTb,IAAAC,cAAA,MAAIY,MAAM,MAAK,yBAEfb,IAAAC,cAAA,SAAG,sBAAoBG,EAAM,YAE7BJ,IAAAC,cAACa,IAAI,CAACC,GAAE,KACL,IACDf,IAAAC,cAAA,KAAGe,KAAK,GAAGH,MAAM,6BACd,IAAI,aACM,YASvB,C","file":"static/js/53.85c3bca9.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport LoadingToRedirect from \"./LoadingToRedirect\";\r\nimport { currentAdmin } from \"../../functions/auth\";\r\n\r\nconst AdminRoute = ({ children, ...rest }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  const [ok, setOk] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (user && user.token) {\r\n      currentAdmin(user.token)\r\n        .then((res) => {\r\n          console.log(\"CURRENT ADMIN RES\", res);\r\n          setOk(true);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"ADMIN ROUTE ERR\", err);\r\n          setOk(false);\r\n        });\r\n    }\r\n  }, [user]);\r\n\r\n  return ok ? <Route {...rest} /> : <LoadingToRedirect />;\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./LoadingToRedirect.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst LoadingToRedirect = () => {\r\n  const [count, setCount] = useState(6);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCount((currentCount) => --currentCount);\r\n    }, 1000);\r\n    // redirect once count is equal to 0\r\n    count === 0 && history.push(\"/\");\r\n    // cleanup\r\n    return () => clearInterval(interval);\r\n  }, [count, history]);\r\n\r\n  return (\r\n    <div>\r\n      <section class=\"page_404\">\r\n        <div class=\"container\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-12 \">\r\n              <div class=\"text-center\">\r\n                <div class=\"four_zero_four_bg\"></div>\r\n\r\n                <div class=\"contant_box_404 redirectbottom\">\r\n                  <h3 class=\"h2\">Look like you're lost</h3>\r\n\r\n                  <p>Redirecting you in {count} seconds</p>\r\n\r\n                  <Link to={`/`}>\r\n                    {\" \"}\r\n                    <a href=\"\" class=\"mybtn btnprimary link_404\">\r\n                      {\" \"}\r\n                      Go to Home{\" \"}\r\n                    </a>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingToRedirect;\r\n"],"sourceRoot":""}